---
title: "非エンジニアがClaude Codeで36ツールを開発した方法"
emoji: "⚙️"
type: "tech"
topics: ["claudecode", "mcp", "googleworkspace", "ai", "個人開発"]
published: false
---

:::message
**シリーズ構成**
1. [導入編：作った話](google-workspace-mcp-overview)
2. **開発編：Claude Codeとの共同開発**（この記事）
3. [実践編：セットアップと使い方](google-workspace-mcp-usage-guide)
:::

コードは1行も書いていない。

36個のMCPツール、456個のテスト、6つのGoogleサービスとの連携。全てClaude Codeとの共同作業で作った。プログラミングの実務経験がない一級建築士が、どう開発を進めたのか。

---

## Claude Codeという道具

Claude Codeはターミナルで動くAIエージェントだ。

一般的なAIチャットとの違いは、ファイルを直接操作できること。コードの作成、編集、テストの実行、gitの操作まで自分でやる。開発者向けのツールだが、作りたいものを言語化できれば、実装はClaudeが引き受けてくれる。

---

## 開発の進め方

一度に全部作ろうとはしなかった。サービスごとにフェーズを分けて、1つずつ積み上げた。

| フェーズ | 内容 | 追加ツール数 |
|---------|------|------------|
| 1-2 | Docs、Drive、Calendar、Tasks | 約15 |
| 3 | Sheets連携、Driveの追加操作 | +8 |
| 4 | Gmail連携 | +6 |
| 5 | 削除系ツール、セキュリティ監査、公開準備 | +3 |
| 6 | Gemini連携（敬語チェック、返信下書き、報告書・議事録構造化） | +4 |

各フェーズの流れはほぼ同じだった。設計書を作る。実装する。テストを通す。レビューする。この4つの繰り返し。

Claude Codeの中にサブエージェントという仕組みがある。設計専門のAI、実装専門のAI、レビュー専門のAIをそれぞれ呼び出して分業させる。私が直接コードに触るのではなく、それぞれの専門AIに指示を出して結果を確認する。

---

## 設計で決めたこと

### dryRun：実行前に必ず確認する

書き込みや更新、削除を行うツール全てにdryRunを入れた。

たとえばメール送信。Claudeが送信を判断しても、MCPサーバーは実際には送らない。代わりに宛先、件名、本文のプレビューだけを返す。中身を確認して問題なければ、そこで初めて実行を許可する。

この設計にしたのは単純に怖かったからだ。AIが勝手にメールを送ったり、ファイルを消したりする可能性をゼロにしたかった。怖さを仕組みで潰す。これが一番安心できた判断だった。

### 削除はゴミ箱だけ

ファイル削除はゴミ箱に移動するだけにした。完全削除のAPIは意図的に封じてある。Google Driveのゴミ箱は30日間保持されるので、間違えても復元できる。

### エラーは日本語で返す

エラーメッセージ、コメント、ドキュメントは全て日本語にした。英語のエラーが返ってきても、非エンジニアには原因がわからない。「ドキュメントが見つかりません」のほうが、次に何をすべきか判断しやすい。

---

## 私がやったこと

繰り返しになるが、コードは書いていない。やったのは3つだ。

1つ目は要件を伝えること。Gmailの送信ツールがほしい、dryRunはデフォルトで、ヘッダーインジェクション対策も入れてくれ。こういう指示を出す。

2つ目は設計を読んで判断を下すこと。Claudeが出してきた設計書を読み、方針が違えば修正を求める。削除は完全削除じゃなくゴミ箱移動だけにしろ、とか。全てを理解できなくても、自分が譲れない部分だけは押さえた。

3つ目は動作確認。テストが通ったら、自分のGoogleアカウントで実際に動かす。カレンダーに予定が入るか、メールが送れるか、スプレッドシートに書き込めるか。テストコードは機械的な検証だが、使ってみないと意図通りかはわからない。

---

## 丸投げではない

Claudeに任せきりだったかというと、そうではない。

MCPの仕様書は読んだし、Google APIのドキュメントも確認した。既存のMCPサーバーがどう実装されているかも調べている。OAuthのスコープで calendar.events ではなく calendar のフルアクセスが必要だとわかったのも、自分で調べた結果だ。

正しいコードかどうかはわからない。でも、何を作りたいかと何が怖いかは自分の言葉で言えた。この2つが伝われば、Claude Codeは期待に沿ったものを作ってくれる。逆に、この2つが曖昧なまま「いい感じに作って」と頼んでも、いい感じにはならない。

---

## 非エンジニアに必要だったこと

プログラミングの知識は不要だった。代わりに必要だったのは、こういうことだ。

- 作りたいものの具体的なイメージ
- 何が危険かを想像する力
- 設計書やドキュメントを読む気力
- 提案に対してやるかやらないかを決める覚悟

最後が一番難しかった。Claudeの提案が正しいかどうか、技術的には判断できない場面が多い。それでも方針を決めるのは自分だ。判断を先送りにすると設計がぶれて、後で困ることになる。

---

## 次の記事

セットアップの手順と、サービスごとの具体的な使い方は[実践編](google-workspace-mcp-usage-guide)で書いた。
